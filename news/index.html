<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • susoapi</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://arthur-shaw.github.io/susoapi/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">susoapi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/susoapi.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/authentication.html">Authentication</a></li>
    <li><a class="dropdown-item" href="../articles/exporting.html">Exporting</a></li>
    <li><a class="dropdown-item" href="../articles/users.html">Managing users</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/arthur-shaw/susoapi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/arthur-shaw/susoapi/blob/v0.3.1/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1" id="susoapi-031">susoapi 0.3.1<a class="anchor" aria-label="anchor" href="#susoapi-031"></a></h2>
<p>Fix an issue in the documentation and NAMESPACE. No user-facing changes.</p>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="susoapi-030">susoapi 0.3.0<a class="anchor" aria-label="anchor" href="#susoapi-030"></a></h2>
<div class="section level3">
<h3 id="new-features-0-3-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-3-0"></a></h3>
<p>Add functions to get server metadata:</p>
<ul><li>Survey Solutions version: <code><a href="../reference/get_server_version.html">get_server_version()</a></code>
</li>
<li>Health status: <code><a href="../reference/get_server_health.html">get_server_health()</a></code>
</li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-0-3-0">Bug fixes<a class="anchor" aria-label="anchor" href="#bug-fixes-0-3-0"></a></h3>
<ul><li>Fix issue where the GraphQL API URL is malformed for server URLs that end in <code>/</code>.</li>
<li>Fix potential issue where workspaces endpoint URLs are malformed.</li>
<li>Get questionnaires using GraphQL’s use of variables in order to <a href="https://github.com/surveysolutions/surveysolutions/issues/3736" class="external-link">circumvent a Survey Solutions bug for version 25.01</a>.</li>
</ul></div>
<div class="section level3">
<h3 id="improvements-0-3-0">Improvements<a class="anchor" aria-label="anchor" href="#improvements-0-3-0"></a></h3>
<p>Drop <a href="https://docs.ropensci.org/ghql" class="external-link">ghql</a> as a dependency. Use <code>POST</code> requests to interact with the GraphQL API.</p>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.3" id="susoapi-023">susoapi 0.2.3<a class="anchor" aria-label="anchor" href="#susoapi-023"></a></h2>
<ul><li>Fix internal function <code>check_workspace_param()</code> to use credentials provided in args rather than environment.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.2" id="susoapi-022">susoapi 0.2.2<a class="anchor" aria-label="anchor" href="#susoapi-022"></a></h2>
<ul><li>When checking the workspace parameter, use the user-provided credentials, which may differ from those currently in the environment/<code>.Renviron</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1" id="susoapi-021">susoapi 0.2.1<a class="anchor" aria-label="anchor" href="#susoapi-021"></a></h2>
<ul><li>Fix bug where some requests failed when the server URL had a terminal <code>/</code>.</li>
<li>Allow the user to check credentials provided as arguments in <code><a href="../reference/check_credentials.html">check_credentials()</a></code> rather than as entries in <code>.Renviron</code>. This allows checking credentials without setting them. The <code><a href="../reference/check_credentials.html">check_credentials()</a></code> function still defaults to environment variable values if credentials not arguments not provided as function arguments.</li>
<li>Update tests and test fixtures to Survey Solutions 24.06.1</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.0" id="susoapi-020">susoapi 0.2.0<a class="anchor" aria-label="anchor" href="#susoapi-020"></a></h2>
<div class="section level3">
<h3 id="new-features-0-2-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-2-0"></a></h3>
<ul><li>Credentials now include the workspace. <code><a href="../reference/set_credentials.html">set_credentials()</a></code> now has a <code>workspace</code> argument. All functions that target workspaces now draw from these credentials (<a href="https://github.com/arthur-shaw/susoapi/issues/24" class="external-link">#24</a>, <a href="https://github.com/arthur-shaw/susoapi/issues/26" class="external-link">#26</a>, h/t <a href="https://github.com/ashwinikalantri" class="external-link">@ashwinikalantri</a>).</li>
<li>Interview attributes can now be user-specified. Through the <code>nodes</code> argument of <code><a href="../reference/get_interviews.html">get_interviews()</a></code>, users may specify as few or as many nodes of information about interviews as needed. If nothing is specified, the default is to fetch all nodes. If something is specified, it must include <code>id</code> and may include other things (<a href="https://github.com/arthur-shaw/susoapi/issues/23" class="external-link">#23</a>).</li>
</ul></div>
<div class="section level3">
<h3 id="breaking-changes-0-2-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-2-0"></a></h3>
<ul><li>Credentials used in all functions now expect workspace. Users will need to use <code><a href="../reference/set_credentials.html">set_credentials()</a></code> to add this component to their <code>.Renviron</code> file.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-improvements-and-bug-fixes-0-2-0">Minor improvements and bug fixes<a class="anchor" aria-label="anchor" href="#minor-improvements-and-bug-fixes-0-2-0"></a></h3>
<ul><li>Fixed help pages where documentation suggested that logical values be provided as strings rather than as the logical values that the code required (<a href="https://github.com/arthur-shaw/susoapi/issues/25" class="external-link">#25</a>, h/t <a href="https://github.com/ashwinikalantri" class="external-link">@ashwinikalantri</a>).</li>
<li>Fixed issue where failure to specify <code>qnr_version</code> in <code><a href="../reference/get_assignments.html">get_assignments()</a></code> lead to the function returning all assignments for all questionnaires (<a href="https://github.com/arthur-shaw/susoapi/issues/27" class="external-link">#27</a>, h/t <a href="https://github.com/ashwinikalantri" class="external-link">@ashwinikalantri</a>).</li>
<li>Added checks for arguments throughout–typically logical values, user names, and dates for time intervals–and tests to ensure those checks work correctly.</li>
<li>Convert <code>NA_character_</code> comments to empty strings before forming the request in interview functions.</li>
<li>Added a private function <code>is_user_name()</code> to check whether user-provided user names followed Survey Solutions rules about character length and content.</li>
<li>Revised order of arguments and documentation for credentials: server, workspace, user, password.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.3" id="susoapi-013">susoapi 0.1.3<a class="anchor" aria-label="anchor" href="#susoapi-013"></a></h2>
<ul><li>Fix <code><a href="../reference/check_credentials.html">check_credentials()</a></code>. Check credentials by getting API user’s details rather than fetching workspaces to which the user has access. The former only requires simple API access for the workspace. The latter requires admin API access.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.2" id="susoapi-012">susoapi 0.1.2<a class="anchor" aria-label="anchor" href="#susoapi-012"></a></h2>
<ul><li>Fix <code><a href="../reference/set_credentials.html">set_credentials()</a></code>. Better managment of pre-existing <code>.Renviron</code> files. Previously, the function could delete several or all key-value pairs in <code>.Renviron</code> while adding/updating Survey Solutions entries. Now, the function preserves all prior key-value entries. Also, tests have been added to check that this function works correctly going forward. A huge thanks to <a href="https://github.com/petbrueck" class="external-link">@petbrueck</a> for spotting this and suggesting a fix (<a href="https://github.com/arthur-shaw/susoapi/issues/20" class="external-link">#20</a>).</li>
<li>Revise <code>check_workspace_param()</code>, a private function used to check that the API user has access to the user-specified workspace, to work better when the API user has access to few or only one workspace. Previously, the function fetched all workspaces to which the user had access. This only worked when the API user had admin rights to access the workspace endpoints. Now, the function checks whether the API user has access to the target workspace by fetching its user details for that workspace.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="susoapi-011">susoapi 0.1.1<a class="anchor" aria-label="anchor" href="#susoapi-011"></a></h2>
<ul><li>Fix <code><a href="../reference/get_interviewers.html">get_interviewers()</a></code>. A private function was missing the workspaces argument. (h/t <a href="https://github.com/ashwinikalantri" class="external-link">@ashwinikalantri</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="susoapi-010">susoapi 0.1.0<a class="anchor" aria-label="anchor" href="#susoapi-010"></a></h2>
<ul><li>Scope all functions to workspaces. If no workspace is specified, the function will take <code>"primary"</code> as the default value. If a workspace is specified, the function will attempt to execute within the designated workspace. The function will only yield a result if the user is authorized to access that workspace. If the function fails, it will both indicate that the target workspace is invalid/inaccessible and will say which workspaces the user credentials can access. To pre-empt function failure, the user can also use <code><a href="../reference/check_credentials.html">check_credentials()</a></code> and specify the target workspace.</li>
<li>Re-implement several functions with GraphQL API, where the REST endpoint is either deprecated or a less good solution than GraphQL. These include: <code>get_questionnaires</code>, <code>get_interviews_for_questionnaire</code>, and <code>get_interviews</code>.</li>
<li>Minor fixes</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Arthur Shaw.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

